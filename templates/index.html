<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=no">
    <title>The Chain ‚Äî FCM Solo Automa</title>
    <link rel="stylesheet" href="/static/css/style.css">
    <link rel="icon" href="data:image/svg+xml,<svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 100 100'><text y='.9em' font-size='90'>üîó</text></svg>">
</head>
<body>
    <!-- ‚îÄ‚îÄ‚îÄ Top Bar ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ -->
    <header id="top-bar">
        <div class="bar-left">
            <h1 class="logo">üîó The Chain</h1>
            <span id="turn-badge" class="badge">Turn 0</span>
            <span id="phase-badge" class="badge phase">Setup</span>
        </div>
        <div class="bar-right">
            <button id="btn-lang" class="icon-btn" title="Language">EN</button>
            <button id="btn-mode" class="icon-btn" title="Mode">Full</button>
            <button id="btn-undo" class="icon-btn" title="Undo">‚Ü©</button>
            <button id="btn-save" class="icon-btn" title="Save">üíæ</button>
            <button id="btn-menu" class="icon-btn" title="Menu">‚ò∞</button>
        </div>
    </header>

    <!-- ‚îÄ‚îÄ‚îÄ Menu Overlay ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ -->
    <div id="menu-overlay" class="overlay hidden">
        <div class="overlay-content menu-panel">
            <h2 data-i18n="menu">Menu</h2>
            <button id="btn-new-game" class="menu-btn" data-i18n="new_game">New Game</button>
            <button id="btn-save-game" class="menu-btn" data-i18n="save_game">Save Game</button>
            <button id="btn-load-game" class="menu-btn" data-i18n="load_game">Load Game</button>
            <button id="btn-bank-break" class="menu-btn warn" data-i18n="bank_break">Bank Break!</button>
            <button id="btn-close-menu" class="menu-btn muted" data-i18n="close">Close</button>
        </div>
    </div>

    <!-- ‚îÄ‚îÄ‚îÄ New Game Overlay ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ -->
    <div id="newgame-overlay" class="overlay hidden">
        <div class="overlay-content setup-panel">
            <h2 data-i18n="new_game_setup">New Game Setup</h2>

            <h3 data-i18n="modules">Expansion Modules</h3>
            <div class="toggle-grid">
                <label><input type="checkbox" id="mod-coffee" checked> ‚òï Coffee</label>
                <label><input type="checkbox" id="mod-kimchi" checked> ü•¨ Kimchi</label>
                <label><input type="checkbox" id="mod-noodle" checked> üçú Noodle</label>
                <label><input type="checkbox" id="mod-sushi" checked> üç£ Sushi</label>
                <label><input type="checkbox" id="mod-beer" checked> üç∫ Beer</label>
                <label><input type="checkbox" id="mod-lemonade" checked> üçã Lemonade</label>
                <label><input type="checkbox" id="mod-milestones" checked> üèÜ Milestones</label>
            </div>

            <h3 data-i18n="difficulty">Difficulty Options</h3>
            <div class="toggle-grid">
                <label><input type="checkbox" id="opt-hard-choices"> Hard Choices</label>
                <label><input type="checkbox" id="opt-expand-connections"> Expand Connections</label>
                <label><input type="checkbox" id="opt-expand-6"> 6 Restaurants</label>
                <label><input type="checkbox" id="opt-aggressive-setup"> Aggressive Setup</label>
                <label><input type="checkbox" id="opt-aggressive-restructuring"> Aggressive Restructuring</label>
            </div>

            <h3 data-i18n="game_mode">Game Mode</h3>
            <div class="toggle-grid">
                <label><input type="radio" name="mode" value="full" checked> üéØ Full Automation</label>
                <label><input type="radio" name="mode" value="quick"> ‚ö° Quick Mode</label>
            </div>

            <div class="setup-actions">
                <button id="btn-start-game" class="primary-btn" data-i18n="start_game">Start Game</button>
                <button id="btn-cancel-setup" class="muted-btn" data-i18n="cancel">Cancel</button>
            </div>
        </div>
    </div>

    <!-- ‚îÄ‚îÄ‚îÄ Load Game Overlay ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ -->
    <div id="load-overlay" class="overlay hidden">
        <div class="overlay-content">
            <h2 data-i18n="load_game">Load Game</h2>
            <div id="saves-list" class="saves-list"></div>
            <button id="btn-close-load" class="muted-btn" data-i18n="close">Close</button>
        </div>
    </div>

    <!-- ‚îÄ‚îÄ‚îÄ Card Zoom Overlay ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ -->
    <div id="card-overlay" class="overlay hidden">
        <img id="card-zoom-img" src="" alt="Card">
        <button id="btn-close-card" class="close-card-btn">‚úï</button>
    </div>

    <!-- ‚îÄ‚îÄ‚îÄ Input Overlay (for player prompts) ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ -->
    <div id="input-overlay" class="overlay hidden">
        <div class="overlay-content input-panel">
            <h3 id="input-prompt"></h3>
            <div id="input-fields"></div>
            <button id="btn-submit-input" class="primary-btn" data-i18n="confirm">Confirm</button>
        </div>
    </div>

    <!-- ‚îÄ‚îÄ‚îÄ Main Content ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ -->
    <main id="main-content">
        <!-- Welcome screen (before game starts) -->
        <section id="welcome-screen">
            <div class="welcome-box">
                <h2>üîó The Chain</h2>
                <p data-i18n="welcome_desc">Solo Automa Companion for Food Chain Magnate</p>
                <button id="btn-welcome-new" class="primary-btn large" data-i18n="new_game">New Game</button>
                <button id="btn-welcome-load" class="muted-btn" data-i18n="load_game">Load Game</button>
            </div>
        </section>

        <!-- Game screen -->
        <section id="game-screen" class="hidden">
            <!-- Cards Row -->
            <div class="cards-row">
                <div class="card-slot" id="back-card-slot">
                    <div class="card-label" data-i18n="food_cleanup">Food & Cleanup</div>
                    <img id="back-card-img" class="card-img" src="" alt="Back card"
                         data-side="back" loading="lazy">
                </div>
                <div class="card-slot" id="front-card-slot">
                    <div class="card-label" data-i18n="recruit_train">Recruit & Train</div>
                    <img id="front-card-img" class="card-img" src="" alt="Front card"
                         data-side="front" loading="lazy">
                </div>
            </div>

            <!-- Action Button -->
            <div class="action-row">
                <button id="btn-advance" class="primary-btn large pulse" data-i18n="next_phase">
                    Next Phase ‚ñ∂
                </button>
            </div>

            <!-- Status Message -->
            <div id="status-msg" class="status-msg"></div>

            <!-- Tracks Panel -->
            <div class="panel tracks-panel">
                <h3 data-i18n="tracks">Tracks</h3>
                <div class="tracks-grid">
                    <div class="track" id="track-rt">
                        <span class="track-name" data-i18n="recruit_train_short">R&T</span>
                        <div class="track-bar">
                            <div class="track-markers" id="rt-markers"></div>
                        </div>
                        <span class="track-value" id="rt-value">1</span>
                        <span class="track-info" id="rt-info"></span>
                    </div>
                    <div class="track" id="track-pd">
                        <span class="track-name" data-i18n="price_distance">Price+Dist</span>
                        <div class="track-bar">
                            <div class="track-markers" id="pd-markers"></div>
                        </div>
                        <span class="track-value" id="pd-value">10</span>
                    </div>
                    <div class="track" id="track-wait">
                        <span class="track-name" data-i18n="waitresses">Waitresses</span>
                        <div class="track-bar">
                            <div class="track-markers" id="wait-markers"></div>
                        </div>
                        <span class="track-value" id="wait-value">0</span>
                    </div>
                    <div class="track competition-track" id="track-comp">
                        <span class="track-name" data-i18n="competition">Competition</span>
                        <div class="comp-indicator" id="comp-indicator">
                            <span class="comp-level" data-level="0">Cold</span>
                            <span class="comp-level" data-level="1">Cool</span>
                            <span class="comp-level active" data-level="2">Neutral</span>
                            <span class="comp-level" data-level="3">Warm</span>
                            <span class="comp-level" data-level="4">Hot</span>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Inventory Panel -->
            <div class="panel inventory-panel">
                <h3 data-i18n="inventory">Inventory</h3>
                <div class="inv-grid" id="inv-grid"></div>
            </div>

            <!-- Info Panel (marketeers, employees, milestones) -->
            <div class="panel info-panel">
                <div class="info-section">
                    <h4 data-i18n="marketeers">Marketeers</h4>
                    <div id="marketeer-slots" class="slot-row"></div>
                </div>
                <div class="info-section">
                    <h4 data-i18n="employees">Employees</h4>
                    <div id="employee-list" class="tag-list"></div>
                </div>
                <div class="info-section">
                    <h4>üèÜ <span data-i18n="milestones">Milestones</span></h4>
                    <div id="milestone-list" class="tag-list"></div>
                </div>
                <div class="info-section">
                    <h4>üçΩÔ∏è <span data-i18n="restaurants">Restaurants</span></h4>
                    <div id="restaurant-list" class="tag-list"></div>
                </div>
                <div class="info-section">
                    <h4>üìä <span data-i18n="deck_info">Deck</span></h4>
                    <div id="deck-info" class="deck-info"></div>
                </div>
            </div>

            <!-- Action Log -->
            <div class="panel log-panel">
                <h3 data-i18n="action_log">Action Log</h3>
                <div id="action-log" class="log-scroll"></div>
            </div>

            <!-- Quick Mode Controls (hidden in full mode) -->
            <div id="quick-controls" class="panel quick-panel hidden">
                <h3 data-i18n="quick_controls">Quick Controls</h3>
                <button id="btn-quick-draw" class="primary-btn" data-i18n="draw_card">Draw Card</button>
                <div class="quick-tracks">
                    <label>R&T: <input type="number" id="qtrack-rt" min="1" max="7" value="1" class="track-input"></label>
                    <label>P+D: <input type="number" id="qtrack-pd" min="6" max="10" value="10" class="track-input"></label>
                    <label>Wait: <input type="number" id="qtrack-wait" min="0" max="4" value="0" class="track-input"></label>
                    <label>Comp: <select id="qtrack-comp" class="track-input">
                        <option value="0">Cold</option>
                        <option value="1">Cool</option>
                        <option value="2" selected>Neutral</option>
                        <option value="3">Warm</option>
                        <option value="4">Hot</option>
                    </select></label>
                </div>
                <button id="btn-quick-update" class="muted-btn" data-i18n="update_tracks">Update Tracks</button>
            </div>
        </section>
    </main>

    <script src="/static/js/i18n.js"></script>
    <script src="/static/js/app.js"></script>
</body>
</html>
