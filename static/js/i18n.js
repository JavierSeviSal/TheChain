/* â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
   i18n â€” English / Spanish translations
   â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• */

const I18N = {
    en: {
        // Top bar
        menu: "Menu",
        // Welcome
        welcome_desc: "Solo Automa Companion for Food Chain Magnate",
        new_game: "New Game",
        load_game: "Load Game",
        save_game: "Save Game",
        // Setup
        new_game_setup: "New Game Setup",
        modules: "Expansion Modules",
        difficulty: "Difficulty Options",
        game_mode: "Game Mode",
        start_game: "Start Game",
        cancel: "Cancel",
        close: "Close",
        bank_break: "Bank Break!",
        // Phases
        next_phase: "Next Phase â–¶",
        // Panels
        tracks: "Tracks",
        recruit_train_short: "R&T",
        price_distance: "Price+Dist",
        waitresses: "Waitresses",
        competition: "Competition",
        inventory: "Inventory",
        marketeers: "Marketeers",
        employees: "Employees",
        milestones: "Milestones",
        restaurants: "Restaurants",
        chain_cash: "Chain Cash",
        this_turn: "this turn",
        deck_info: "Deck",
        action_log: "Action Log",
        food_cleanup: "Food & Cleanup",
        recruit_train: "Recruit & Train",
        // Quick mode
        quick_controls: "Quick Controls",
        draw_card: "Draw Card",
        update_tracks: "Update Tracks",
        // Input
        confirm: "Confirm",
        // Food items
        burger: "Burger",
        pizza: "Pizza",
        sushi: "Sushi",
        noodle: "Noodle",
        coffee: "Coffee",
        kimchi: "Kimchi",
        beer: "Beer",
        lemonade: "Lemonade",
        softdrink: "Softdrink",
        // Competition levels
        cold: "Cold",
        cool: "Cool",
        neutral: "Neutral",
        warm: "Warm",
        hot: "Hot",
        // Misc
        empty: "Empty",
        busy: "BUSY",
        turn: "Turn",
        open_slots: "open slots",
        food: "food",
        no_card: "No card",
        cards_remaining: "cards remaining",
        cycle: "cycle",
        total_drawn: "Total drawn",
        slot: "Slot",
        tile: "Tile",
        save_name: "Save name",
        full_mode: "Full",
        quick_mode: "Quick",
        enable_all: "Enable All",
        disable_all: "Disable All",
        mod_coffee: "Coffee",
        mod_kimchi: "Kimchi",
        mod_noodle: "Noodle",
        mod_sushi: "Sushi",
        mod_gourmet: "Gourmet Food Critic",
        mod_mass_marketeer: "Mass Marketeer",
        mod_rural_marketeer: "Rural Marketeer",
        mod_night_shift: "Night Shift Manager",
        mod_ketchup: "Ketchup",
        mod_fry_chefs: "Fry Chefs",
        mod_movie_stars: "Movie Stars",
        mod_reserve_prices: "Reserve Prices",
        mod_lobbyists: "Lobbyists",
        mod_new_districts: "New Districts",
        mod_milestones: "Milestones",
        yes: "Yes",
        no: "No",
    },
    es: {
        menu: "MenÃº",
        welcome_desc: "CompaÃ±ero Automa Solo para Food Chain Magnate",
        new_game: "Nueva Partida",
        load_game: "Cargar Partida",
        save_game: "Guardar Partida",
        new_game_setup: "Configurar Nueva Partida",
        modules: "MÃ³dulos de ExpansiÃ³n",
        difficulty: "Opciones de Dificultad",
        game_mode: "Modo de Juego",
        start_game: "Iniciar Partida",
        cancel: "Cancelar",
        close: "Cerrar",
        bank_break: "Â¡Quiebra del Banco!",
        next_phase: "Siguiente Fase â–¶",
        tracks: "Pistas",
        recruit_train_short: "R&E",
        price_distance: "Precio+Dist",
        waitresses: "Camareras",
        competition: "Competencia",
        inventory: "Inventario",
        marketeers: "Promotores",
        employees: "Empleados",
        milestones: "Hitos",
        restaurants: "Restaurantes",
        chain_cash: "Dinero de la Cadena",
        this_turn: "este turno",
        deck_info: "Mazo",
        action_log: "Registro de Acciones",
        food_cleanup: "Comida y Limpieza",
        recruit_train: "Reclutar y Entrenar",
        quick_controls: "Controles RÃ¡pidos",
        draw_card: "Robar Carta",
        update_tracks: "Actualizar Pistas",
        confirm: "Confirmar",
        burger: "Hamburguesa",
        pizza: "Pizza",
        sushi: "Sushi",
        noodle: "Fideos",
        coffee: "CafÃ©",
        kimchi: "Kimchi",
        beer: "Cerveza",
        lemonade: "Limonada",
        softdrink: "Refresco",
        cold: "FrÃ­o",
        cool: "Fresco",
        neutral: "Neutro",
        warm: "CÃ¡lido",
        hot: "Caliente",
        empty: "VacÃ­o",
        busy: "OCUPADO",
        turn: "Turno",
        open_slots: "casillas abiertas",
        food: "comida",
        no_card: "Sin carta",
        cards_remaining: "cartas restantes",
        cycle: "ciclo",
        total_drawn: "Total sacadas",
        slot: "Casilla",
        tile: "Casilla",
        save_name: "Nombre del guardado",
        full_mode: "Completo",
        quick_mode: "RÃ¡pido",
        enable_all: "Activar Todos",
        disable_all: "Desactivar Todos",
        mod_coffee: "CafÃ©",
        mod_kimchi: "Kimchi",
        mod_noodle: "Fideos",
        mod_sushi: "Sushi",
        mod_gourmet: "CrÃ­tico GastronÃ³mico",
        mod_mass_marketeer: "Promotor Masivo",
        mod_rural_marketeer: "Promotor Rural",
        mod_night_shift: "Gerente Nocturno",
        mod_ketchup: "Ketchup",
        mod_fry_chefs: "Cocineros de Frito",
        mod_movie_stars: "Estrellas de Cine",
        mod_reserve_prices: "Precios de Reserva",
        mod_lobbyists: "Lobbistas",
        mod_new_districts: "Nuevos Distritos",
        mod_milestones: "Hitos",
        yes: "SÃ­",
        no: "No",
    },
};

const FOOD_ICONS = {
    burger: "ðŸ”",
    pizza: "ðŸ•",
    beer: "ðŸº",
    lemonade: "ðŸ‹",
    softdrink: "ðŸ¥¤",
    sushi: "ðŸ£",
    noodle: "ðŸœ",
    coffee: "â˜•",
    kimchi: "ðŸ¥¬",
};

let currentLang = localStorage.getItem("chain_lang") || "en";

function t(key) {
    return (I18N[currentLang] && I18N[currentLang][key]) || I18N.en[key] || key;
}

function applyI18n() {
    document.querySelectorAll("[data-i18n]").forEach(el => {
        const key = el.getAttribute("data-i18n");
        const translated = (I18N[currentLang] && I18N[currentLang][key]) || I18N.en[key];
        if (translated) el.textContent = translated;
    });
}

function toggleLang() {
    currentLang = currentLang === "en" ? "es" : "en";
    localStorage.setItem("chain_lang", currentLang);
    applyI18n();
    return currentLang;
}
